{% extends 'admin/base.html' %} {% block content %}<div class="container" style="max-width: 800px; margin: auto; background: white; padding: 20px; border-radius: 8px">    <h2>Clôture du Match : {{ match.equipe_a }} vs {{ match.equipe_b }}</h2>    <p>Sélectionnez les options qui ont été validées (Gagnantes).</p>    <form method="POST">        {% set categories = {} %} {% for opt in options %} {% if opt.categorie not in categories %} {% set _ = categories.update({opt.categorie: []}) %} {% endif %} {% set _ = categories[opt.categorie].append(opt) %} {% endfor %} {% for cat, opts in categories.items() %}        <div style="margin-bottom: 20px; border: 1px solid #ddd; padding: 15px">            <h4 style="margin-top: 0; color: #1e3a8a">{{ cat }}</h4>            {% for o in opts %}            <div style="padding: 5px 0">                <label style="cursor: pointer" class="win">                    <input type="radio" name="resultat_{{ cat }}" value="{{ o.id }}" onchange="document.getElementById('hidden_{{ o.id }}').value = this.value" class="win" required />                    {{ o.libelle }} (Cote: {{ o.cote }})                </label>            </div>            {% endfor %}        </div>        {% endfor %}        <div id="selected_inputs"></div>        <button type="submit" style="width: 100%; padding: 15px; background: #28a745; color: white; border: none; font-weight: bold; cursor: pointer">VALIDER LES RÉSULTATS DÉFINITIFS</button>    </form></div><script>    // Script pour regrouper les radios de différentes catégories dans une seule liste d'envoi    document.querySelector("form").onsubmit = function () {        const container = document.getElementById("selected_inputs");        const radios = document.querySelectorAll('input[type="radio"]:checked');        radios.forEach(r => {            const input = document.createElement("input");            input.type = "hidden";            input.name = "options_gagnantes";            input.value = r.value;            container.appendChild(input);        });    };</script>{% endblock %}