{% extends 'admin/base.html' %} {% block head %}<title>Historique : {{ user.prenom }}</title>{% endblock %} {% block content %}<div class="page-header">    <div style="display: flex; align-items: center; gap: 15px">        <a href="{{ url_for('users.users') }}" class="btn-secondary" style="padding: 5px 10px; display: flex; align-items: center; gap: 5px">            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7" /></svg>            Retour        </a>        <h2 style="margin: 0">Historique Financier</h2>    </div></div><div class="wallet-header" style="text-align: center; margin-bottom: 30px; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05)">    <p style="color: #64748b; margin-bottom: 5px">Joueur</p>    <h3 style="margin: 0; color: #1e293b">        {{ user.prenom }} {{ user.nom }}        <span style="font-weight: normal; font-size: 0.8em; color: #94a3b8">(@{{ user.username }})</span>    </h3>    <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #f1f5f9">        <span style="font-size: 0.9em; color: #64748b">Solde Actuel</span>        <br />        <span style="font-size: 1.5em; font-weight: bold; color: var(--admin-primary)">{{ format_money(user.solde) }} PMC</span>    </div></div><div class="table-responsive" style="background: white; padding: 0; border-radius: 12px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05)">    {% if transactions %}    <table style="width: 100%; border-collapse: collapse">        <thead>            <tr style="border-bottom: 2px solid #f1f5f9; text-align: left; color: #64748b">                <th style="padding: 15px">Type</th>                <th>Détail / Source</th>                <th style="text-align: right">Montant</th>                <th style="text-align: right; padding-right: 15px">Date</th>            </tr>        </thead>        <tbody>            {% for t in transactions %}            <tr style="border-bottom: 1px solid #f1f5f9; height: 60px">                <td style="padding: 15px">                    {% if t.type == 'depot' or t.type == 'recu' or t.type == 'gain' %}                    <span style="color: #166534; font-weight: bold; background: #dcfce7; padding: 6px 10px; border-radius: 6px; font-size: 0.85em; display: inline-flex; align-items: center; gap: 5px">                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M12 5v14M5 12l7 7 7-7" /></svg>                        ENTRÉE                    </span>                    {% else %}                    <span style="color: #991b1b; font-weight: bold; background: #fee2e2; padding: 6px 10px; border-radius: 6px; font-size: 0.85em; display: inline-flex; align-items: center; gap: 5px">                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><path d="M12 19V5M5 12l7-7 7 7" /></svg>                        SORTIE                    </span>                    {% endif %}                </td>                <td style="font-size: 0.95em; font-weight: 500; color: #334155">{{ t.description }}</td>                <td style="text-align: right; font-weight: bold; font-family: 'Kanit', sans-serif; font-size: 1.1em; color: {{ '#166534' if (t.type == 'depot' or t.type == 'recu' or t.type == 'gain') else '#991b1b' }}">{% if t.type == 'depot' or t.type == 'recu' or t.type == 'gain' %}+{% else %}-{% endif %}{{ format_money(t.display_montant) }} PMC</td>                <td style="text-align: right; font-size: 0.85em; color: #94a3b8; padding-right: 15px">{{ t.sort_date[:16] }}</td>            </tr>            {% endfor %}        </tbody>    </table>    {% else %}    <div style="text-align: center; padding: 50px; color: #94a3b8">        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" style="margin-bottom: 10px; opacity: 0.5">            <rect x="2" y="5" width="20" height="14" rx="2" />            <line x1="2" y1="10" x2="22" y2="10" />        </svg>        <p>Aucune transaction enregistrée pour ce joueur.</p>    </div>    {% endif %}</div>{% endblock %}