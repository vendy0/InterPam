{% extends 'admin/base.html' %} {# Assure toi d'étendre ton layout admin existant, ou base.html si tu n'as pas de layout spécifique admin #} {% block content %}<div class="admin-container" style="padding: 20px">    <h2>Gestion des Transactions (MonCash)</h2>    {% if demandes %}    <div style="overflow-x: auto">        <table style="width: 100%; border-collapse: collapse; background: white; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1)">            <thead style="background: #333; color: white">                <tr>                    <th style="padding: 10px">Utilisateur</th>                    <th>Type</th>                    <th>Montant</th>                    <th>Infos (MonCash/Tél)</th>                    <th>Date</th>                    <th>Action</th>                </tr>            </thead>            <tbody>                {% for d in demandes %}                <tr style="border-bottom: 1px solid #ddd">                    <td style="padding: 10px">                        <strong>{{ d.username }}</strong>                        <br />                        <small>{{ d.prenom }} {{ d.nom }}</small>                    </td>                    <td>                        <span style="font-weight:bold; color: {{ 'green' if d.type == 'depot' else 'red' }};">{{ d.type|upper }}</span>                    </td>                    <td>{{ d.montant }} HTG</td>                    <td>                        Tél:                        <strong>{{ d.telephone }}</strong>                        {% if d.type == 'depot' %}                        <br />                        ID:                        <span style="background: #eee; padding: 2px">{{ d.moncash_id }}</span>                        {% endif %}                    </td>                    <td>{{ d.created_at }}</td>                    <td style="padding: 10px">                        <form action="{{ url_for('admin.transaction_action') }}" method="POST" style="display: flex; gap: 5px">                            <input type="hidden" name="tx_id" value="{{ d.id }}" />                            <button type="submit" name="action" value="valider" style="background: green; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer" onclick="return confirm('Confirmer cette transaction ?');">✓ Valider</button>                            <button type="button" onclick="showReject('{{ d.id }}')" style="background: red; color: white; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer">X Refuser</button>                            <input type="text" name="raison" id="raison_{{d.id}}" placeholder="Raison refus" style="display: none; width: 100px" />                            <button type="submit" name="action" value="refuser" id="btn_refuse_{{d.id}}" style="display: none; background: #d32f2f; color: white; border: none; padding: 5px">Confirmer Refus</button>                        </form>                    </td>                </tr>                {% endfor %}            </tbody>        </table>    </div>    {% else %}    <p>Aucune transaction en attente.</p>    {% endif %}</div><script>    function showReject(id) {        // Affiche le champ raison et le bouton de confirmation de refus        document.getElementById("raison_" + id).style.display = "inline-block";        document.getElementById("btn_refuse_" + id).style.display = "inline-block";    }</script>{% endblock %}