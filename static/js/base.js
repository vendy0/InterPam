document.addEventListener("DOMContentLoaded", () => {    buttons.forEach("button", ()=>{        button.setAttribute()    });    const flashes = document.querySelectorAll(".flash-message");    flashes.forEach(flash => {        // On supprime l'élément du code après 5.5 secondes        setTimeout(() => {            flash.remove();        }, 5500);    });});function openSupportModal() {    const modal = document.getElementById('supportModal');    const fab = document.getElementById('support-fab');        // Animation du bouton qui disparaît    fab.style.transform = 'scale(0) rotate(-45deg)';    fab.style.opacity = '0';        modal.classList.add('active');        // Focus auto sur le textarea    setTimeout(() => {        document.getElementById('support_message').focus();    }, 300);}function closeSupportModal() {    const modal = document.getElementById('supportModal');    const fab = document.getElementById('support-fab');        modal.classList.remove('active');        // Attendre la fin de l'animation de la modal pour réafficher le FAB    setTimeout(() => {        fab.style.transform = 'scale(1) rotate(0deg)';        fab.style.opacity = '1';    }, 200);}// Fermer si on clique en dehors de la boîte blanchewindow.onclick = function(event) {    const modal = document.getElementById('supportModal');    if (event.target == modal) {        closeSupportModal();    }}const messageInput = document.getElementById('support_message');const charCounter = document.getElementById('char-counter');const MAX_CHARS = 400;if (messageInput) {    messageInput.addEventListener('input', function() {        const remaining = this.value.length;        charCounter.textContent = `${remaining} / ${MAX_CHARS}`;                // Indicateur visuel si on dépasse 90% de la limite        if (remaining >= MAX_CHARS * 0.9) {            charCounter.classList.add('limit-reached');        } else {            charCounter.classList.remove('limit-reached');        }    });}// Empêcher la double soumission des formulairesdocument.addEventListener('submit', function(e) {    var form = e.target;        // On vérifie si le formulaire contient l'attribut "data-no-double-submit"    // Ou on l'applique à tous les formulaires par sécurité    var submitBtn = form.querySelector('button[type="submit"], input[type="submit"]');        if(submitBtn && !submitBtn.disabled) {        // Petite astuce : on utilise setTimeout pour laisser le temps au navigateur         // d'inclure la "value" du bouton cliqué dans la requête (important pour valider/refuser)        setTimeout(function() {            submitBtn.disabled = true;                        // Sauvegarde le texte original            var originalText = submitBtn.innerText || submitBtn.value;                        // Change le texte (visuel)            if(submitBtn.tagName === 'INPUT') {                submitBtn.value = "Traitement...";            } else {                submitBtn.innerHTML = '<span class="spinner-border spinner-border-sm"></span> Traitement...';            }                        // Réactive après 10 secondes au cas où le serveur ne répond pas (timeout)            setTimeout(function() {                submitBtn.disabled = false;                if(submitBtn.tagName === 'INPUT') {                    submitBtn.value = originalText;                } else {                    submitBtn.innerHTML = originalText;                }            }, 10000);        }, 0);    }});